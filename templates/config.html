{% extends "base.html" %}
{% block content %}
<h3>Bot Configuration</h3>
<form method="post">
  <div class="mb-3">
    <label>Bot Token</label>
    <input type="text" class="form-control" name="bot_token" value="{{ config.bot_token or '' }}">
  </div>
  <div class="mb-3">
    <label>Channel ID (@channel or -100...)</label>
    <input type="text" class="form-control" name="channel_id" value="{{ config.channel_id or '' }}">
  </div>
  <div class="mb-3">
    <label>System Prompt</label>
    <textarea class="form-control" name="system_prompt" rows="5">{{ config.system_prompt if config else '–¢—ã MailMuse Bot. –ü–æ—Å—Ç –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:\n- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π ¬´üì© –ü—Ä–∏–≤–µ—Ç! –Ø MailMuse Bot ‚Äî —Ç–≤–æ–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ email-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É.¬ª\n- –†–æ–≤–Ω–æ 2 –∞–±–∑–∞—Ü–∞, ‚â§ 90 —Å–ª–æ–≤ –∫–∞–∂–¥—ã–π.\n- –¢–µ–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ –∏–∑: email-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥, –ª–∏–¥—ã, –∞–≤—Ç–æ–≤–æ—Ä–æ–Ω–∫–∏, –ª–µ–Ω–¥–∏–Ω–≥–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –ª–∏—á–Ω—ã–π –±—Ä–µ–Ω–¥.\n- –ù–µ —É–ø–æ–º–∏–Ω–∞—Ç—å –µ–¥—É, –ø–æ–≥–æ–¥—É, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, —Å–ø–æ—Ä—Ç, –º–æ—Ç–∏–≤–∞—Ü–∏—é.\n- 2 —Ö—ç—à—Ç–µ–≥–∞: #mailmuse + —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π.\n- –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è ¬´–ñ–º–∏ üëâ /start, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —à–∞–±–ª–æ–Ω.¬ª\n- –î–ª–∏–Ω–∞: 150‚Äì200 —Å–ª–æ–≤.\n- —Å–¥–µ–ª–∞–π –≤—Å–µ –∫–∞–∫ —è —Å–∫–∞–∑–∞–ª –±–µ–∑ –ª–∏—à–Ω–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π' }}</textarea>
  </div>
  <div class="mb-3">
    <label>Timezone</label>
    <select class="form-select" name="timezone">
      {% for tz in timezones %}
        <option value="{{ tz }}" {% if tz == (config.timezone or 'Europe/Moscow') %}selected{% endif %}>{{ tz }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label>Posting Hour</label>
    <input type="number" class="form-control" name="posting_hour" min="0" max="23" value="{{ config.posting_hour or 12 }}">
  </div>
  <div class="mb-3">
    <label>Posting Minute</label>
    <input type="number" class="form-control" name="posting_minute" min="0" max="59" value="{{ config.posting_minute or 0 }}">
  </div>
  <div class="mb-3 form-check">
    <input type="checkbox" class="form-check-input" name="is_active" {% if config and config.is_active %}checked{% endif %}>
    <label class="form-check-label">Enable scheduler</label>
  </div>
  <button type="submit" class="btn btn-success">Save</button>
</form>
{% endblock %}